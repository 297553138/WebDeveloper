{% extends './layout.html' %}
{% block content %}
	<table id="users_table"></table>
	<div id="tb">
	    <div class="btn btn-success" @click="CallUserPopWin('add')"><span class="glyphicon glyphicon-plus"></span>添加用户</div>
	    <div class="btn btn-warning" @click="CallUserPopWin('edit')"><span class="glyphicon glyphicon-pencil"></span>修改用户</div>
	    <div class="btn btn-danger" @click="CallUserPopWin('del')"><span class="glyphicon glyphicon-minus"></span>删除用户</div>
	</div>
{% endblock %}
{% block popwin %}
	<!-- 添加用户弹窗 start -->
	<div class="modal fade" id="add_user">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title" id="add_user_title">${IsAddUser?'添加用户':'修改用户'}</h4>
				</div>
				<div class="modal-body">
					<form class="form-horizontal">
						<div class="form-group">
						    <label class="col-xs-3 control-label">姓名:</label>
						    <div class="col-xs-7">
						    	<input type="text" class="form-control" v-model.trim='user.username' placeholder="请输入用户姓名" maxlength="16">
						    </div>
						</div>
						<div class="form-group">
						    <label class="col-xs-3 control-label">密码:</label>
						    <div class="col-xs-7">
						    	<input type="password" class="form-control" v-model='user.password' placeholder="请输入密码" maxlength="24">
						    </div>
						</div>
						<div class="form-group">
							<label class="col-xs-3 control-label">身份:</label>
							<div class="col-xs-7">
								<select class="form-control" v-model='user.isAdmin'>
									<option v-for="v,i in ['普通用户','管理员']" :value="i">${v}</option>
								</select>	
							</div>
					    </div>
			    	</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
					<button type="button" class="btn btn-primary" @click="SubmitUserInfo">确定</button>
				</div>
			</div>
		</div>
	</div>
	<!-- 添加用户弹窗 end -->
	<!-- 删除用户弹窗 start -->
	<div class="modal fade" id="del_user">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title" id="del_user_title">删除用户</h4>
				</div>
				<div class="modal-body">
					<p>确定要删除选中的用户？</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
					<button type="button" class="btn btn-primary" @click="DelUser">确定</button>
				</div>
			</div>
		</div>
	</div>
	<!-- 删除用户弹窗 end -->
{% endblock %}
{% block script %}
	<script src="/public/js/ad_users.js"></script>
{% endblock %}